<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>GWT DOM EventBinder by rfilippone</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">GWT DOM EventBinder</h1>
        <p class="header">GWT generator for handling dom events via annotations</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/rfilippone/gwt-dom-event-binder/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/rfilippone/gwt-dom-event-binder/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/rfilippone/gwt-dom-event-binder">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/rfilippone">rfilippone</a></p>


      </header>
      <section>
        <h2>
<a name="what-is-gwt-dom-eventbinder" class="anchor" href="#what-is-gwt-dom-eventbinder"><span class="octicon octicon-link"></span></a>What is GWT DOM EventBinder?</h2>

<p>GWT's UiBinder is great in many ways. 
Let's refresh some ideas at the base of UiBinder.</p>

<p>From the <a href="http://www.gwtproject.org/doc/latest/DevGuideUiBinder.html#Overview">UiBinder Overview</a>:</p>

<blockquote>
<p>At heart, a GWT application is a web page. And when you're laying out a web page, writing HTML and CSS is the most natural way to get the job done. The UiBinder framework allows you to do exactly that: build your apps as HTML pages with GWT widgets sprinkled throughout them.</p>
</blockquote>

<p>And from the <a href="http://www.gwtproject.org/doc/latest/DevGuideUiBinder.html#Simple_binding">Simple binding of event handlers</a>:</p>

<blockquote>
<p>One of UiBinder's goals is to reduce the tedium of building user interfaces in Java code, and few things in Java require more mind-numbing boilerplate than event handlers.</p>

<p>.....</p>

<p>In a UiBinder owner class, you can use the @UiHandler annotation to have all of that anonymous class nonsense written for you.</p>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyFoo</span> <span class="kd">extends</span> <span class="n">Composite</span> <span class="o">{</span>
  <span class="nd">@UiField</span> <span class="n">Button</span> <span class="n">button</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">MyFoo</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">initWidget</span><span class="o">(</span><span class="n">button</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@UiHandler</span><span class="o">(</span><span class="s">"button"</span><span class="o">)</span>
  <span class="kt">void</span> <span class="nf">handleClick</span><span class="o">(</span><span class="n">ClickEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Window</span><span class="o">.</span><span class="na">alert</span><span class="o">(</span><span class="s">"Hello, AJAX"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>However, there is one limitation (at least for now): you can only use @UiHandler with events thrown by widget objects, not DOM elements. That is, &lt;g:Button&gt;, not &lt;button&gt;.</p>
</blockquote>

<p><strong>The last sentence explains the limitation that this library is trying to remove.</strong></p>

<h2>
<a name="how-do-i-use-it" class="anchor" href="#how-do-i-use-it"><span class="octicon octicon-link"></span></a>How do I use it?</h2>

<p>Easy - just decide the event that you want to handle and the DOM element that generates the event, register an handler methods for it, and that's all.</p>

<h3>
<a name="registering-dom-event-handlers" class="anchor" href="#registering-dom-event-handlers"><span class="octicon octicon-link"></span></a>Registering DOM event handlers</h3>

<p>DOM event handlers are methods annotated with the @DomEventHandler annotation. Registration of handlers works the same way as @UiHandler - the name of the method is ignored, the argument to the method is checked to determine what type of event to handle, and the string parameter of the annotation is used to determine the DOM element. In order to get this to work, you must also define an DomEventBinder interface and invoke bindEventHandlers on it in the same way you would for a UiBinder. Here's an example:</p>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWidgetWorld</span> <span class="kd">extends</span> <span class="n">Composite</span> <span class="o">{</span>

  <span class="kd">interface</span> <span class="nc">MyUiBinder</span> <span class="kd">extends</span> <span class="n">UiBinder</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">,</span> <span class="n">HelloWidgetWorld</span><span class="o">&gt;</span> <span class="o">{}</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="n">MyUiBinder</span> <span class="n">uiBinder</span> <span class="o">=</span> <span class="n">GWT</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">MyUiBinder</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

  <span class="kd">interface</span> <span class="nc">MyEventBinder</span> <span class="kd">extends</span> <span class="n">DomEventBinder</span><span class="o">&lt;</span><span class="n">HelloWidgetWorld</span><span class="o">&gt;</span> <span class="o">{}</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">MyEventBinder</span> <span class="n">eventBinder</span> <span class="o">=</span> <span class="n">GWT</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">MyEventBinder</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

  <span class="nd">@UiField</span> <span class="n">ButtonElement</span> <span class="n">button</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">HelloWidgetWorld</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">initWidget</span><span class="o">(</span><span class="n">uiBinder</span><span class="o">.</span><span class="na">createAndBindUi</span><span class="o">(</span><span class="k">this</span><span class="o">));</span>
    <span class="n">eventBinder</span><span class="o">.</span><span class="na">bindEventHandlers</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@DomEventHandler</span><span class="o">(</span><span class="s">"button"</span><span class="o">)</span>
  <span class="kt">void</span> <span class="nf">handleClick</span><span class="o">(</span><span class="n">ClickEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Window</span><span class="o">.</span><span class="na">alert</span><span class="o">(</span><span class="s">"Hello, AJAX"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<h2>
<a name="how-do-i-install-it" class="anchor" href="#how-do-i-install-it"><span class="octicon octicon-link"></span></a>How do I install it?</h2>

<p>If you're using Maven, you can add the following to your &lt;dependencies&gt; section:</p>

<div class="highlight highlight-xml"><pre><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.webrippers<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>gwt-dom-event-binder<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>0.0.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>

<p>You can dowload directy the <a href="http://oss.sonatype.org/content/groups/public/com/webrippers/gwt-dom-event-binder/0.0.1/gwt-dom-event-binder-0.0.1.jar">jar</a>, or you can also check out the source using git from <a href="https://github.com/rfilippone/gwt-dom-event-binder.git">https://github.com/rfilippone/gwt-dom-event-binder.git</a> and build it yourself. Once you've installed DOM EventBinder, be sure to inherit the module in your .gwt.xml file like this:</p>

<div class="highlight highlight-xml"><pre><span class="nt">&lt;inherits</span> <span class="na">name=</span><span class="s">'com.webrippers.gwt.dom.event.DomEventBinder'</span><span class="nt">/&gt;</span>
</pre></div>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-561402-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
